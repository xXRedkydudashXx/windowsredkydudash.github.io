function sleep(e){return new Promise(t=>setTimeout(t,e))}function RandomInt(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function color4(e,t,l,n){return e=e.toString(16),t=t.toString(16),l=l.toString(16),n=Math.round(255*n).toString(16),1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==l.length&&(l="0"+l),1==n.length&&(n="0"+n),"#"+e+t+l+n}function setIntervalX(e,t,l){var n=0,i=window.setInterval(function(){e(),++n===l&&window.clearInterval(i)},t)}function AddElementToBody(e){document.body.appendChild(e)}function AddText(e,t,l){var n=document.createElement("p");return n.innerHTML=e,null!==t&&(n.classList=t),null!==l&&(n.id=l),n}function AddWhiteText(e,t,l){var n=document.createElement("p");return n.innerHTML=e,null!==t&&(n.classList=t),null!==l&&(n.id=l),n.style.color="white",n}function NullCheck(e){return null==e}function NoCheck(e){return null==e||!1===e}function $Fullscreen(e){var t=document.body;e instanceof HTMLElement&&(t=e);var l=document.webkitIsFullScreen||document.mozFullScreen||!1;t.requestFullScreen=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||function(){return!1},document.cancelFullScreen=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||function(){return!1},l?document.cancelFullScreen():t.requestFullScreen()}function waitForElm(e){return new Promise(t=>{if(document.querySelector(e))return t(document.querySelector(e));let l=new MutationObserver(n=>{document.querySelector(e)&&(t(document.querySelector(e)),l.disconnect())});l.observe(document.body,{childList:!0,subtree:!0})})}async function $MoveTo(e){var t=e.left,l=e.top;if(e.iterations)var n=e.iterations;else var n=1;if(e.easing)var i=e.easing;else var i="linear";if(void 0!==e.element&&null!==e.element){let a=e.element;a.animate([{top:l,left:t}],{duration:e.duration,iterations:n,easing:i}),setTimeout(()=>{a.style.top=l,a.style.left=t},e.duration)}}function $PlaySound(e){var e=document.getElementById(e).cloneNode(!0);e.play()}async function SystemFunction(e){if(1==e&&console.log("Version: "+CurrVersion),2==e){var t=$MakeWindow("250px","150px","run","Run",!0,!1,!1,!0,!0,!1,"-47.5%","5%"),l=t.querySelector(".window-body"),n=t.querySelector('[aria-label="Help"]');n.setAttribute("enabled","true"),n.onclick=async function(){"true"==n.getAttribute("enabled")&&(n.setAttribute("enabled","false"),$MessageBox(2,"Type the name of a know program and it will be executed. some programs can be executed in different way: \n Website Browser: wbrowser"),await sleep(2e3),n.setAttribute("enabled","true"))};let i=document.createElement("img");i.style.float="left",i.draggable=!1,i.src="C/Assets/System33/Icons/WinRedkyExclusif/info.png",i.alt="Information",l.appendChild(i);var a=AddText("Type the name of a program or a application, and Windows Redkydudash will open it for you.");l.appendChild(a);var r=document.createElement("input");r.type="url",r.size="40",l.appendChild(r);let o=document.createElement("button");o.textContent="OK",o.style.marginLeft="15.5%",o.onclick=function(){"butterfly"===r.value?OpenApp("butterflymenu"):"wbrowser"===r.value&"!websitebrowser"===r.value?OpenApp("websitebrowser"):OpenApp(r.value),t.remove()},l.appendChild(document.createElement("br")),l.appendChild(o);let s=document.createElement("button");s.textContent="Cancel",s.style.marginLeft="5%",s.onclick=function(){t.remove()},l.appendChild(s),AddElementToBody(t)}if(10==e){let d=document.getElementById("StartMenu");"hidden"===d.style.visibility?d.style.visibility="visible":d.style.visibility="Hidden"}if(11==e){async function c(){CreateWindow("200px","Restating Windows","WRestart",!1,!1,!1,!1," Restarting Windows Redkydudash","information",!1,!1,null,0,null,0,null,0,!1),await sleep(500),document.location.reload(!0)}c()}}async function wrdebug(e,t){e?"crash"===e&&(document.location.href="C/Assets/System33/Others/rsod.html"):console.log("Debug what?")}function $Reboot(){document.location.reload(!0)}function $Shutdown(){document.querySelector(".Desktop").style.visibility="hidden",document.querySelector(".Taskbar").style.visibility="hidden",document.querySelector(".StartMenu").style.visibility="hidden",document.querySelectorAll(".window").forEach(e=>{e.remove()}),$PlaySound("Shutdown"),setTimeout(()=>{document.querySelector(".bootscreen").style.visibility="visible"},4150)}async function OpenApp(e){if(1==e){let t=$MakeWindow("400px","300px","Notepad","CreditNotepad",!0,!0,!0,!1,!0,0,0),l=t.querySelector(".window-body");t.style.backgroundColor="white";let n=document.createElement("iframe");n.style.width="380px",n.style.height="255px",n.src="C/Assets/Programs/credits.html",n.style.border="none",n.innerHTML="Browser not compatible.",l.appendChild(n),AddElementToBody(t)}if(5==e){let i=document.createElement("div");i.className="window",i.style.width="200px",i.style.height="200px",i.id="ColorPickerApp",i.style.position="absolute";let a=document.createElement("div");a.className="title-bar",i.appendChild(a);let r=document.createElement("div");r.insertAdjacentText("afterbegin","Color Picker"),r.className="title-bar-text",a.appendChild(r);let o=document.createElement("div");o.className="title-bar-controls",a.appendChild(o);let s=document.createElement("button");s.ariaLabel="Help",o.appendChild(s);let d=document.createElement("button");d.ariaLabel="Close",o.appendChild(d),d.onclick=function(){i.remove()};let c=document.createElement("div");c.className="window-body",c.style.height="80%",i.appendChild(c);let u=document.createElement("iframe");c.appendChild(u),document.body.appendChild(i),u.src="C/Assets/Programs/colorpicker.html",u.height="100%",u.width="100%"}if("clock"==e&&null===document.getElementById("Clock")&&CreateIFrameWindow("300px","300px","Clock","ClockWindow",!0,!1,!1,!1,"C/Assets/Programs/clock.html",!1,!1),"terminal"==e){let p=$MakeWindow("350px","275px","terminalwindow","Command Prompt",!0,!0,!0,!1,!0);p.getElementsByClassName("window-body")[0],p.style.backgroundColor="black",AddElementToBody(p)}if("websitebrowser"==e){let m=$MakeWindow("1025px","600px","WebsiteBrowser","Website Browser",!0,!0,!0,!1,!0);m.style.left="25%",m.style.top="25%";let y=m.querySelector(".window-body");y.style.height="94%";let f=document.createElement("iframe");f.src="https://www.gigablast.com",f.height="100%",f.width="100%",f.style.overflow="auto";let b=document.createElement("input");b.setAttribute("type","text"),b.size=182.5,y.appendChild(b);let h=document.createElement("button");h.textContent="Search",f.type="search",y.appendChild(h),y.appendChild(f),AddElementToBody(m),h.onclick=function(){var e=b.value;console.log(e),e.match(/\bhttp(.)*/)||(e="http://"+e),f.src=e}}if("butterflymenu"==e&&null===document.getElementById("ButterflyMenu")){var g=$MakeWindow("250px","100px","ButterflyMenu","Butterfly",!0,!1,!1,!0,!0),_=g.querySelector(".window-body"),w=g.querySelector('[aria-label="Help"]');w.setAttribute("enabled","true"),w.onclick=async function(){"true"==w.getAttribute("enabled")&&(w.setAttribute("enabled","false"),$MessageBox(2,"Butterfly allows you to create butterflys on the desktop. Thoses butterflys will fly randomly until they leave."),await sleep(2e3),w.setAttribute("enabled","true"))};var C=AddText("Select the number of butterfly (1-100)");C.style.textAlign="center",_.appendChild(C);var E=document.createElement("input");E.type="Number",E.min=1,E.max=100,E.size=100,_.appendChild(E);var x=document.createElement("button");x.textContent="Spawn the butterflys",x.onclick=function(){if(0!==E.value&&E.value<=100)for(let e=0;e<=E.value-1;e++)OpenApp("butterfly"),g.remove();else $MessageBox(1,"Incorrect Number: the number is too small or to big")},_.appendChild(x),AddElementToBody(g)}if("butterfly"==e){let v=document.createElement("div"),S=document.createElement("object");S.type="image/svg+xml",S.data="C/Assets/System33/Images/Vectors/ABF.svg",S.className="Butterfly",v.id="ButterflyCore",S.id="Butterflyi",S.setAttribute("name","Butterfly"),S.setAttribute("flying","true"),S.style.transform="scale(0.4)",v.style.transition="transform 1s;",v.style.height="113px",v.style.width="120px",v.style.position="absolute",v.style.left="100%",v.style.top="-10%",v.appendChild(S),document.body.appendChild(v),await sleep(1e3),v.style.left="50%",v.style.zIndex="-9999",v.style.top="50%",v.className="butterfly",await sleep(2500);var k=RandomInt(1e3,1e4)/RandomInt(100,1e3),A=0;setIntervalX(function(){if(A+1===k)S.setAttribute("flying","false");else{var e,t;A+=1,e=RandomInt(-1,100)+"%",$MoveTo({element:v,top:e,left:t=RandomInt(-1,100)+"%",duration:RandomInt(1500,2500),easing:"ease-in-out"})}},20*RandomInt(20,100),k);do await sleep(10);while("true"===S.getAttribute("flying"));v.style.transform="translate(0%,0%)",await sleep(1e3),v.style.left="100%",v.style.top=RandomInt(-200,100)+"%",await sleep(2e3),document.body.removeChild(v)}if("Prank1"==e)for(let N=0;N<12;N++)setTimeout(function(){AddElementToBody($MakeWindow("250px",null,null,"Error",!0,!1,!1,!1,!0,RandomInt(10,90)+"%",RandomInt(10,90)))},100*N*N/10)}function Execute(e){"CloseAllWindows"==e&&CreateWindow("350px","CloseAllWindowsWindow","Close all windows",!0,!1,!1,!1,"Are you shure?","question",!1,!1,"Yes",10,"No",1,null,1,!0)}async function $TaskKill(e){if(["Desktop","StartMenu","window-body","title-bar","title-bar-text","title-bar-controls","Taskbar","background1","TaskbarToolbar"].includes(e)||["appicon"].includes(e))$MessageBox(4,"Access Denied");else{let t=document.querySelectorAll("."+e);t.forEach(e=>{e.remove()})}}function CreateWindow(e,t,l,n,i,a,r,o,s,d,c,u,p,m,y,f,b,h){let g=document.createElement("div");g.className="window centerxy",g.style.width=e,g.id=t,g.style.position="absolute",(!1!==c||null!==c)&&(g.style.marginTop=c),(!1!==d||null!==d)&&(g.style.marginLeft=d);let _=document.createElement("div");_.className="title-bar",g.appendChild(_);let w=document.createElement("div");w.insertAdjacentText("afterbegin",l),w.className="title-bar-text",_.appendChild(w);let C=document.createElement("div");if(C.className="title-bar-controls",_.appendChild(C),!0==r){let E=document.createElement("button");E.ariaLabel="Help",C.appendChild(E)}if(!0==i){let x=document.createElement("button");x.ariaLabel="Minimize",C.appendChild(x)}if(!0==a){let v=document.createElement("button");v.ariaLabel="Maximize",C.appendChild(v)}if(!0==n){let S=document.createElement("button");S.ariaLabel="Close",C.appendChild(S),S.onclick=function(){g.remove()}}let k=document.createElement("div");if(k.className="window-body",g.appendChild(k),null!==s){let A=document.createElement("img");A.style.float="left",A.draggable=!1,"error"===s&&(A.src="C/Assets/System33/Icons/WinRedkyExclusif/error.png",A.alt="Error",console.error(o)),"information"===s&&(A.src="C/Assets/System33/Icons/WinRedkyExclusif/info.png",A.alt="Information",console.log(o)),"question"===s&&(A.src="C/Assets/System33/Icons/WinRedkyExclusif/question.png",A.alt="Question",console.log(o)),"warning"===s&&(A.src="C/Assets/System33/Icons/WinRedkyExclusif/warning.png",A.alt="Warning",console.warn(o)),k.appendChild(A)}let N=document.createElement("p");if(N.textContent=o,k.appendChild(N),null!==f){let I=document.createElement("button");I.textContent=f,null!==m?I.style.marginLeft="5%":I.style.marginLeft="10%",1===b?I.onclick=function(){g.remove()}:10===b&&(I.onclick=function(){g.remove();let e=document.querySelectorAll(".window");e.forEach(e=>{e.remove()})}),k.appendChild(I)}if(null!==u){let T=document.createElement("button");T.textContent=u,null!==f?T.style.marginLeft="5%":T.style.marginLeft="25%",1===p?T.onclick=function(){g.remove()}:10===p&&(T.onclick=function(){g.remove();let e=document.querySelectorAll(".window");e.forEach(e=>{e.remove()})}),k.appendChild(T)}if(null!==m){let W=document.createElement("button");W.textContent=m,W.style.marginLeft="5%",1===y?W.onclick=function(){g.remove()}:10===y&&(W.onclick=function(){g.remove();let e=document.querySelectorAll(".window");e.forEach(e=>{e.remove()})}),k.appendChild(W)}if(document.body.appendChild(g),!0===h){if("error"==s){var B=document.getElementById("CriticalError").cloneNode(!0);B.play()}else if("information"==s){var B=document.getElementById("Exclamation").cloneNode(!0);B.play()}else if("question"==s){var B=document.getElementById("Exclamation").cloneNode(!0);B.play()}else if("warning"==s){var B=document.getElementById("Error").cloneNode(!0);B.play()}}}function CreateIFrameWindow(e,t,l,n,i,a,r,o,s,d,c){let u=document.createElement("div");u.className="window",u.style.width=e,u.style.height=t,u.id=n,u.style.position="absolute",(!1!==c||null!==c)&&(u.style.marginTop=c),(!1!==d||null!==d)&&(u.style.marginLeft=d);let p=document.createElement("div");p.className="title-bar",u.appendChild(p);let m=document.createElement("div");m.insertAdjacentText("afterbegin",l),m.className="title-bar-text",p.appendChild(m);let y=document.createElement("div");if(y.className="title-bar-controls",p.appendChild(y),!0==o){let f=document.createElement("button");f.ariaLabel="Help",y.appendChild(f)}if(!0==a){let b=document.createElement("button");b.ariaLabel="Minimize",y.appendChild(b)}if(!0==r){let h=document.createElement("button");h.ariaLabel="Maximize",y.appendChild(h)}if(!0==i){let g=document.createElement("button");g.ariaLabel="Close",y.appendChild(g),g.onclick=function(){u.remove()}}let _=document.createElement("div");_.className="window-body",_.style.height="85%",u.appendChild(_);let w=document.createElement("iframe");_.appendChild(w),document.body.appendChild(u),w.src=s,w.height="100%",w.width="100%"}function $MessageBox(e,t){var l=$MakeWindow("250px","100px","$MessageBox","$MessageBox",!0,!1,!1,!1,!0,!1,"-5%","-6%");l.style.removeProperty("height"),1===e&&(l.querySelector(".title-bar-text").innerHTML="Message"),2===e&&(l.querySelector(".title-bar-text").innerHTML="Information"),3===e&&(l.querySelector(".title-bar-text").innerHTML="Error"),4===e&&(l.querySelector(".title-bar-text").innerHTML="Warning");let n=document.createElement("img");n.style.float="left",n.draggable=!1,1===e&&(n.src="C/Assets/System33/Icons/WinRedkyExclusif/info.png",n.alt="Information",console.log(t)),2===e&&(n.src="C/Assets/System33/Icons/WinRedkyExclusif/question.png",n.alt="Question",console.log(t)),3===e&&(n.src="C/Assets/System33/Icons/WinRedkyExclusif/error.png",n.alt="Error",console.error(t)),4===e&&(n.src="C/Assets/System33/Icons/WinRedkyExclusif/warning.png",n.alt="Warning",console.warn(t)),l.querySelector(".window-body").appendChild(n);var i=AddText(t);i.style.marginRight="10px",i.style.fontSize="10.75px",i.style.textAlign="center",l.querySelector(".window-body").appendChild(i);let a=document.createElement("button");return a.textContent="OK",a.className="centerx",a.onclick=function(){l.remove()},l.querySelector(".window-body").appendChild(a),AddElementToBody(l),1==e?$PlaySound("Exclamation"):2==e?$PlaySound("Exclamation"):3==e?$PlaySound("CriticalError"):4==e&&$PlaySound("Error"),l}function $MakeWindow(e,t,l,n,i,a,r,o,s,d,c,u){let p=document.createElement("div");p.className="window centerxy",p.style.width=e,p.style.height=t,p.id=l,p.style.position="absolute",!1!==s&&null==s&&(p.className=p.className+" drag"),!1!==d&&null==d&&(p.className=p.className+" resize"),(!1!==u||null!==u)&&(p.style.marginTop=u),(!1!==c||null!==c)&&(p.style.marginLeft=c);let m=document.createElement("div");m.className="title-bar",p.appendChild(m);let y=document.createElement("div");y.insertAdjacentText("afterbegin",n),y.className="title-bar-text",m.appendChild(y);let f=document.createElement("div");if(f.className="title-bar-controls",m.appendChild(f),!0==o){let b=document.createElement("button");b.ariaLabel="Help",f.appendChild(b)}if(!0==a){let h=document.createElement("button");h.ariaLabel="Minimize",f.appendChild(h)}if(!0==r){let g=document.createElement("button");g.ariaLabel="Maximize",f.appendChild(g)}if(!0==i){let _=document.createElement("button");_.ariaLabel="Close",f.appendChild(_),_.onclick=function(){p.remove()}}let w=document.createElement("div");return w.className="window-body",p.appendChild(w),!0===s&&$(p).draggable({handle:".title-bar",containment:".Desktop"}),!0===d&&$(p).resizable({minWidth:200,minHeight:50,zIndex:5,handles:"e, s, n, w, se, sw, ne, nw"}),p}function $Notify(e,t){let l=document.createElement("div");if(l.className="notif-bubble",!NullCheck(e)){let n=document.createElement("p");n.innerHTML=e.toString(),n.style.marginLeft="10px",n.style.padding="5px 0px 1px 0px",n.style.fontWeight="bold",l.appendChild(n)}let i=document.createElement("img");i.src="C/Assets/System33/Icons/Others/ballonx.jpg",i.className="notif-bubble-close",i.style.position="absolute",i.style.top="5px",i.style.right="5px",l.appendChild(i);let a=document.createElement("p");a.innerHTML=t.toString(),a.style.padding="0px 0px 10px 0px",a.style.marginLeft="15px",a.style.marginTop="-10px",l.appendChild(a);let r=document.createElement("div");r.className="notif-bubble-bottom",l.appendChild(r);let o=document.createElement("div");o.className="notif-bubble-bottom-outline",r.appendChild(o),document.body.querySelector(".Notifications").appendChild(l),$PlaySound("Ballon"),i.onclick=async function(){l.style.removeProperty("animation"),l.remove()},setTimeout(async function(){l.animate([{opacity:"1"},{opacity:"0"}],{duration:750,iterations:1}),await sleep(750),l.remove()},4500+(lengthDelay=NullCheck(e)||NullCheck(t)?0:(e.toString().length+t.toString().length)*10))}function $Shortcut(e,t,l,n,i){let a=document.createElement("div"),r=e;a.id="appicon",a.className=r.replace(/[^a-zA-Z ]/g,"")+" shortcut",!1!==l||null!==l?a.style.left=l:a.style.left="150px",!1!==n||null!==n?a.style.top=n:a.style.top="150px";let o=document.createElement("img");o.src=t,o.alt=e,o.style.height="35px",o.style.width="35px",o.style.marginLeft="auto",o.style.marginRight="auto",o.style.display="block",a.appendChild(o);let s=document.createElement("p");return s.style.color="white",s.style.fontSize="9px",s.style.paddingTop="0%",s.style.textAlign="center",s.innerHTML=r.replace('*."/[]:;|,',""),a.appendChild(s),a.onclick=function(){a.focus()},a.tabIndex=0,NoCheck(i)||i(a),document.querySelector(".Desktop").appendChild(a),a}console.log("Hello World!"),CurrVersion="Pre-Alpha 1.1.1",setTimeout(async function(){await sleep(5e3),document.getElementById("bootscreen")&&(document.getElementById("bootscreen").style.visibility="hidden",$PlaySound("Startup")),setTimeout(()=>{$Notify("Information","The website is still in alpha/beta stat")},5e3)},1),setInterval(function(){$(".window").draggable({handle:".title-bar",containment:".Desktop"})},1e4),setInterval(()=>{$(".drag").resizable({minWidth:165,minHeight:50,handles:"e, s, n, w, se, sw, ne, nw"})},1e10),setInterval(function(){$(".shortcut").draggable({containment:".Desktop"})},1e4),console.log("System 33 Ready!");
